# 위협 모델 문서

## 1. 보호 자산
- 사용자 제출 코드 및 결과 데이터
- 문제/루브릭/평가 로직
- 인증 토큰 및 비밀키
- 운영 인프라(워커, DB, 캐시, 스토리지)

## 2. 공격자 모델
1. 익명 사용자(제출 코드 악용)
2. 인증된 일반 사용자(권한 상승 시도)
3. 내부자 또는 탈취된 관리자 계정
4. 자동화 봇(리소스 고갈 공격)

## 3. 주요 공격 시나리오
### 3.1 샌드박스 탈출
- 목적: 호스트 접근, 내부망 스캔
- 벡터: 취약 커널 syscall, 컨테이너 오구성
- 영향: 매우 높음

### 3.2 데이터 유출
- 목적: 사용자 코드/토큰/내부 정보 탈취
- 벡터: 로그 오염, 잘못된 권한 설정, 취약 API
- 영향: 높음

### 3.3 권한 상승
- 목적: 관리자 API 접근
- 벡터: JWT 검증 누락, RBAC 미스
- 영향: 높음

### 3.4 서비스 거부(DoS)
- 목적: 제출 파이프라인 마비
- 벡터: 대량 요청, 무한루프 제출, 큐 폭주
- 영향: 중~높음

## 4. 완화 전략
- 격리: gVisor + seccomp + AppArmor + cgroups + network none
- 인증/인가: JWT 검증 + RBAC + 관리자 경로 분리
- API 보호: rate limit + idempotency + 입력 검증
- 비밀 관리: Secret Manager, 키 순환, 최소 노출
- 관측성: 이상 탐지 알람(큐 폭주/실패율 급증)

## 5. 잔여 리스크
- 제로데이 취약점에 의한 방어 우회 가능성
- LLM 평가 편향/오판에 따른 품질 리스크
- 외부 의존 서비스 장애(Judge0/LLM/GitHub API)

## 6. 대응 우선순위
1. 샌드박스 보안 경계 강화(최우선)
2. 인증/권한 체계 검증 자동화
3. 운영 알람/런북 기반 장애 대응 속도 향상
