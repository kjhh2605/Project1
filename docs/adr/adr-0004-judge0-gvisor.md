# ADR-0004 코드 실행 엔진으로 Judge0 + gVisor 채택

- 상태: accepted
- 작성일: 2026-02-16
- 의사결정자: Infra/Security Team

## 배경/문제
사용자 코드를 실행하는 플랫폼 특성상 샌드박스 탈출 및 자원 고갈 공격에 대한 강한 격리가 필수다.

## 선택지
1. 자체 실행 엔진 구현
2. Judge0 단독 사용
3. Judge0 + gVisor + 보안 프로파일 결합

## 결정
Judge0를 실행 오케스트레이터로 사용하고, gVisor/seccomp/AppArmor/cgroups를 조합한 다중 보안 레이어를 적용한다.

## 근거
- Judge0의 언어/비동기 모델 성숙도
- gVisor의 커널 공격면 축소
- 운영 복잡도 대비 보안 수준의 균형

## 결과/영향
- 장점: 빠른 구축, 보안 강화, 확장성 확보
- 단점: 성능 오버헤드(약 10~20%), 보안 운영 부담
- 후속 작업: 취약점 스캔 자동화, CVE 대응 SLA 운영
