---
name: vibe-api-contract-first
description: OpenAPI를 단일 진실 공급원(SSOT)으로 두고 백엔드(oapi-codegen)와 프론트엔드(Orval) 코드를 동기 생성하는 스킬. 타입 불일치와 런타임 통신 오류를 줄일 때 사용.
---

# 계약 우선(Contract-First) API

## 목표
명세-구현-클라이언트 간 불일치를 컴파일 단계에서 차단한다.

## 실행 순서
1. OpenAPI 명세를 먼저 수정한다.
2. 백엔드 서버 스텁/모델을 생성한다(oapi-codegen).
3. 프론트 타입/쿼리 훅을 생성한다(Orval).
4. 생성물 기준으로 구현 코드를 보완한다.
5. 계약 테스트/통합 테스트를 실행한다.

## 운영 규칙
- 수동 DTO 중복 정의를 피하고 생성 코드를 우선 사용한다.
- 명세 변경 PR에는 영향 엔드포인트와 브레이킹 여부를 반드시 기록한다.
- 생성 결과가 변경되면 프론트/백엔드 양측 빌드가 모두 통과해야 머지한다.

## 체크리스트
- [ ] OpenAPI가 최신 요구사항을 반영하는가?
- [ ] 생성 코드가 커밋되었는가(또는 CI에서 재생성 검증되는가)?
- [ ] 프론트 타입 에러/백엔드 컴파일 에러가 0인가?
